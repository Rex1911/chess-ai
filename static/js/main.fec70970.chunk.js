(this["webpackJsonpchess-ai"]=this["webpackJsonpchess-ai"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),l=a.n(o),u=(a(14),a(1)),s=a(4),c=a(8),i=a(7),v=a(5),m=a.n(v),h=a(6),g=a.n(h),f=function e(){Object(u.a)(this,e)};f.depth=3,f.getPieceValue=function(e,t){var a=0;switch(e){case"p":a=10;break;case"n":case"b":a=30;break;case"r":a=50;break;case"q":a=90;break;case"k":a=900}return"w"==t?a:-a},f.evaluate=function(e){for(var t=e.board(),a=0,n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)if(null!=t[n][r]){var o=t[n][r].type,l=t[n][r].color;a+=f.getPieceValue(o,l)}return a},f.getBestMove=function(e){for(var t=e.ugly_moves(),a=9999,n=[],r=0;r<t.length;r++){var o=t[r];e.ugly_move(o);var l=f.evaluate(e);l==a?(n.push(o),a=l):l<a&&((n=[]).push(o),a=l),e.undo()}return n[Math.floor(Math.random()*n.length)]},f.minimax=function(e,t,a){if(0==t||e.game_over())return{eval:f.evaluate(e),bestMove:null};if(a){for(var n=-9999,r=e.ugly_moves(),o=[],l=0;l<r.length;l++){var u=r[l];e.ugly_move(u);var s=f.minimax(e,t-1,!1);e.undo(),s.eval==n?(n=s.eval,o.push(u)):s.eval>n&&((o=[]).push(u),n=s.eval)}return{eval:n,bestMove:o[Math.floor(Math.random()*o.length)]}}for(var c=9999,i=e.ugly_moves(),v=[],m=0;m<i.length;m++){var h=i[m];e.ugly_move(h);var g=f.minimax(e,t-1,!0);e.undo(),g.eval==c?(c=g.eval,v.push(h)):g.eval<c&&((v=[]).push(h),c=g.eval)}return{eval:c,bestMove:v[Math.floor(Math.random()*v.length)]}};var d,y=f,p=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={fen:"start",gameStatus:"Running",currentPlayer:null,squareStyles:{},draggable:!0,searchDepth:3,moveTime:"0s"},e.componentDidMount=function(){d=new g.a,e.setState({currentPlayer:d.turn()})},e.validate=function(t){var a={from:t.sourceSquare,to:t.targetSquare,promotion:"q"};null!=d.move(a)&&(d.game_over()?e.setState({fen:d.fen(),gameStatus:"Player "+e.state.currentPlayer+" won.",draggable:!1}):(e.setState({fen:d.fen(),currentPlayer:d.turn(),squareStyles:{}}),setTimeout((function(){e.makeAIMove()}),50)))},e.makeAIMove=function(){console.log("Making AI Move");var t=new Date,a=y.minimax(d,e.state.searchDepth,!1);console.log(a);var n=new Date;d.ugly_move(a.bestMove),d.game_over()?e.setState({fen:d.fen(),gameStatus:"Player "+e.state.currentPlayer+" won.",draggable:!1}):e.setState({fen:d.fen(),currentPlayer:d.turn(),squareStyles:{},moveTime:(n-t)/1e3+"s"})},e.handleClick=function(t){var a=d.moves({square:t}),n={};a.forEach((function(e){var t=e.match(/([a-z][1-9])/g);null!=t&&(n[t[0]]={backgroundColor:"blue",opacity:.4})})),e.setState({squareStyles:n})},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.a,{position:this.state.fen,onDrop:this.validate,onMouseOverSquare:this.handleClick,squareStyles:this.state.squareStyles,draggable:this.state.draggable}),r.a.createElement("p",null,"Game status: ",this.state.gameStatus),r.a.createElement("p",null,"Current Player: ",this.state.currentPlayer),r.a.createElement("p",null,"Move Time: ",this.state.moveTime))}}]),a}(r.a.Component);var b=function(){return r.a.createElement("div",null,r.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.fec70970.chunk.js.map